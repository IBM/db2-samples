
# db-library

- [Compound Statements](#compound_statements)
- [Procedures](#procedures)
- [Functions](#functions)
- [Views](#views)


- [DB2 Catalog Poster](images/db2-syscat-11.5.2.0.png)
- [DB2 WLM Poster](images/db2-wlm-syscat-11.5.4.0.png)

[Readme](README.md)



## [Compound Statements](compound_statements)
| Compound Statement | Description
| ------------ | -------------
|[add_range_partitions](compound_statements/add_range_partitions.sql)|Add multiple range partitions in one statement|
|[alter_column_set_default](compound_statements/alter_column_set_default.sql)|Add a DEFAULT clause to every column in the tables selected |
|[alter_fk_not_trusted](compound_statements/alter_fk_not_trusted.sql)|For every TRUSTED FORIEGN KEY, ALTER it to be NOT TRUSTED|
|[alter_nickname_char_length](compound_statements/alter_nickname_char_length.sql)|Increase the length of NICKNAME character columns|
|[alter_pk_enforced](compound_statements/alter_pk_enforced.sql)|For every ENFORCED PRIMARY KEY, DROP the PK and recreate it NOT ENFORCED|
|[alter_pk_not_enforced](compound_statements/alter_pk_not_enforced.sql)|For every NOT ENFORCED PRIMARY KEY, DROP the PK and recreate it as ENFORCED|
|[analyse_character_columns](compound_statements/analyse_character_columns.sql)|Scan every character column and record max length, use of multi-byte characters etc|
|[autoconfigure](compound_statements/autoconfigure.sql)|Example code that stores the dynamic result sets from AUTOCONFIGURE APPLY NONE when called from ADMIN_CMD |
|[binary_search_table](compound_statements/binary_search_table.sql)|Example binary search of a table, looking for rows that cause a SQL error|
|[build_dictionary](compound_statements/build_dictionary.sql)|Force a dictionary to be built on small tables that have not had enough rows to trigger Automatic Dictionary Creation|
|[check_encode_size](compound_statements/check_encode_size.sql)|Find the ENCODESIZE distribution of each COLUMN in each COLUMN ORGANIZED TABLE|
|[check_fk_true](compound_statements/check_fk_true.sql)|Code to check if your NOT ENFORCED Foreign Keys are true|
|[check_inline_length](compound_statements/check_inline_length.sql)|See if any LOB columns could be in-lined|
|[check_pk_true](compound_statements/check_pk_true.sql)|Code to check if your NOT ENFORCED Primary Key or Unique Constraints are true or not|
|[check_table_sort_order](compound_statements/check_table_sort_order.sql)|Check how well a table is sorted for each column based on it's synopsis table.|
|[check_table_sparsity](compound_statements/check_table_sparsity.sql)|Check table sparisty by comparing row counts in base tables vs sum of tuple span ranges from their synopsis tables|
|[column_redesign](compound_statements/column_redesign.sql)|Run the SQL generated by the DB_COLUMN_REDESIGN view generated SQL for a set of tables|
|[copy_data_in_chunks](compound_statements/copy_data_in_chunks.sql)|Example of copying 1 month of data at a time from one table into another|
|[copy_schema](compound_statements/copy_schema.sql)|Copy all data from one schema to an new schema|
|[count_data_in_chunks](compound_statements/count_data_in_chunks.sql)|Example of counting rows in a table 1 month at a time.|
|[count_multi_byte_utf8_columns](compound_statements/count_multi_byte_utf8_columns.sql)|Count the number of rows for every character column that contain any multi-byte characters|
|[count_rows](compound_statements/count_rows.sql)|Count the number of rows in each table|
|[count_rows_by_data_slice](compound_statements/count_rows_by_data_slice.sql)|Count the number of rows in each table by data slice.|
|[count_rows_by_slice_by_insert_range](compound_statements/count_rows_by_slice_by_insert_range.sql)|Count the number of rows in each table by data slice and insert range.|
|[create_catalog_nicknames_for_sql_server](compound_statements/create_catalog_nicknames_for_sql_server.sql)|Create Nicknames for the catalog views of all remote SQL servers registered in Db2|
|[create_data_load_test_table](compound_statements/create_data_load_test_table.sql)|Create an empty table LIKE another table, but with all columns changed to VARCHAR|
|[create_nicknames_for_sql_server](compound_statements/create_nicknames_for_sql_server.sql)|Create Nicknames for a remote source by reading the remote catalog and creating a nickname for each entry found|
|[create_tables_from_quick_ddl](compound_statements/create_tables_from_quick_ddl.sql)|Example of using the DB_TABLE_QUICK_DDL view to copy table DDL into a new schema|
|[create_triggers](compound_statements/create_triggers.sql)|Create a trigger on a set of tables|
|[create_union_db_views](compound_statements/create_union_db_views.sql)|Create UNION ALL views of DB view by schema|
|[delete_data_in_chunks](compound_statements/delete_data_in_chunks.sql)|Example of deleting X rows of data at a time from a table to avoid e.g. transaction log full on row organized tables|
|[describe](compound_statements/describe.sql)|Call DESCRIBE via ADMIN_CMD  and write the dynamic result sets to a persistent table|
|[design_advisor](compound_statements/design_advisor.sql)|Write DESIGN_ADVISOR output to a table|
|[drop_tables](compound_statements/drop_tables.sql)|Drop all tables/views/nickname/aliases for your selection|
|[explain_from_package_cache](compound_statements/explain_from_package_cache.sql)|Explain statements from the package cache|
|[export_syscat_tables_to_client](compound_statements/export_syscat_tables_to_client.sql)|Export system catalog views to your client|
|[export_syscat_tables_to_cloud_object_storage](compound_statements/export_syscat_tables_to_cloud_object_storage.sql)|Export system catalog views to Cloud Object Storage. |
|[export_tables_to_cloud_object_storage](compound_statements/export_tables_to_cloud_object_storage.sql)|Export tables to Cloud Object Storage.|
|[export_tables_via_external_table](compound_statements/export_tables_via_external_table.sql)|Gnerate export and import sql to save/load table data to your client via external table|
|[find_invalid_utf8](compound_statements/find_invalid_utf8.sql)|Search for and record all column values that contain invalid UTF-8 bytes|
|[find_value](compound_statements/find_value.sql)|Search all columns for a given value or condition|
|[fix_load_pending](compound_statements/fix_load_pending.sql)|For all tables in LOAD PENDING state, TERMINATE their outstanding LOAD command|
|[import_syscat_tables_from_cloud_object_storage](compound_statements/import_syscat_tables_from_cloud_object_storage.sql)|Import syscat data exported to Cloud Object Storage from an Db2 database into user tables this database|
|[import_tables_from_cloud_object_storage](compound_statements/import_tables_from_cloud_object_storage.sql)|Import tables from Cloud Object Storage or S3 that were exported using the export compound statement|
|[load_dynamic_result_sets](compound_statements/load_dynamic_result_sets.sql)|Example code that stores the dynamic result sets from LOAD when called from ADMIN_CMD |
|[mimic_tables](compound_statements/mimic_tables.sql)|Mimic Statistics for tables, columns, indexes etc|
|[move_tables](compound_statements/move_tables.sql)|Call ADMIN_MOVE_TABLE for multiple tables and write the dynamic result sets from the CALL to a persistent table|
|[reduce_tablespaces](compound_statements/reduce_tablespaces.sql)|Kick off a tablespace REDUCE MAX on all tablespaces with any free or pending free pages|
|[reinsert_small_tables](compound_statements/reinsert_small_tables.sql)|Reinsert data into an existing table|
|[rename_tables](compound_statements/rename_tables.sql)|Code to rename all tables that match some pattern|
|[reorg_check_ix_stats](compound_statements/reorg_check_ix_stats.sql)|Write reorg check output for indexes to a table.  Also, run REORGs for indexes recommended|
|[reorg_check_tb_stats](compound_statements/reorg_check_tb_stats.sql)|Write reorg check output for tables to a table. Also, run REORGs for tables recommended|
|[revoke_privileges](compound_statements/revoke_privileges.sql)|Example of using the DB_PRIVILEGES view to revoke all access a user has in a schema|
|[runstats](compound_statements/runstats.sql)|Runstats all selected tables|
|[standardise_constraint_names](compound_statements/standardise_constraint_names.sql)|For every FORIEGN KEY and PRIMARY KEY, recreate them with a standard constraint name|
|[touch_tables](compound_statements/touch_tables.sql)|Run a dummy select for from every table on the database|
|[transfer_ownership](compound_statements/transfer_ownership.sql)|Code to TRANSFER OWNERSHIP all objects owned by USERA to USERB|
|[wait_for_detatch](compound_statements/wait_for_detatch.sql)|Waits until the background DETACH on a range partitioned table has completed|

## [Procedures](procedures)
|  Procedures | Description
| ----------- | -------------
|[db_cancel_my_activity](procedures/db_cancel_my_activity.sql)|A sample procedure to allow users to cancel their own statements|
|[db_connect_procedure](procedures/db_connect_procedure.sql)|A sample Connect Procedure to set special registers etc when users connect|
|[db_dynamic_select](procedures/db_dynamic_select.sql)|A procedure to run the passed SQL statement and return it's result as a dynamic result set|
|[db_dynamic_select_2](procedures/db_dynamic_select_2.sql)|A procedure to run the passed two SQL statements and return thier results as a dynamic result sets|
|[db_dynamic_select_int](procedures/db_dynamic_select_int.sql)|A procedure to run the passed SQL statement and one integer parameter, and return it's result as a dynamic result set|
|[db_find_row_from_lock](procedures/db_find_row_from_lock.sql)||
|[db_fix_load_pending](procedures/db_fix_load_pending.sql)|A Procedure to look for and take any tables out of LOAD PENDING|
|[db_run_sql](procedures/db_run_sql.sql)|A simple procedure to run SQL statements stored in a table and record the return code in the same table|


## [Functions](scalar_functions)
| Function | Description
| ------------ | -------------
|[db_base64_decode](scalar_functions/db_base64_decode.sql)|Converts a Base64 string into a binary value|
|[db_base64_encode](scalar_functions/db_base64_encode.sql)|Converts a binary value into a Base64 text string|
|[db_binary_to_character](scalar_functions/db_binary_to_character.sql)|Converts a BINARY value to a character string. I.e. removes the FOR BIT DATA tag from a binary string|
|[db_chr](scalar_functions/db_chr.sql)|Converts ASCII Latin-9 decimal code values to a UTF-8 value. A Netezza compatible version of CHR.|
|[db_cyyddd_to_date](scalar_functions/db_cyyddd_to_date.sql)|Returns a DATE from a JD Edwards "Julian" date integer in CYYDDD format|
|[db_cyymmdd_to_date](scalar_functions/db_cyymmdd_to_date.sql)|Returns a DATE from a date integer in CYYMMDD format|
|[db_extract_special_characters](scalar_functions/db_extract_special_characters.sql)|Shows the first 4 runs of characters that are not "plain" printable 7-bit ASCII values|
|[db_format_sql](scalar_functions/db_format_sql.sql)|A very simple SQL formatter - adds line-feeds before various SQL keywords and characters to the passed SQL code|
|[db_greek_to_latin](scalar_functions/db_greek_to_latin.sql)|Replaces Greek characters with Latin equivalents|
|[db_insert_range](scalar_functions/db_insert_range.sql)|Returns the insert range number of a row on a COLUMN organized table when passed the RID_BIT() function |
|[db_is_ascii](scalar_functions/db_is_ascii.sql)|Returns 1 if the input string only contains 7-bit ASCII characters, otherwise returns 0.|
|[db_is_bigint](scalar_functions/db_is_bigint.sql)|Returns 1 is the input string can be CAST to an BIGINT, else returns 0|
|[db_is_date](scalar_functions/db_is_date.sql)|Returns 1 if the input string can be CAST to a DATE, else returns 0|
|[db_is_decfloat](scalar_functions/db_is_decfloat.sql)|Returns 1 is the input string can be CAST to a DECFLOAT, else returns 0|
|[db_is_decimal](scalar_functions/db_is_decimal.sql)|Returns 1 is the input string can be CAST to a DECIMAL(31,8), else returns 0|
|[db_is_integer](scalar_functions/db_is_integer.sql)|Returns 1 is the input string can be CAST to an INTEGER, else returns 0|
|[db_is_latin1](scalar_functions/db_is_latin1.sql)|Returns 1 if the input string only holds characters from the ISO-8859-1 (aka Latin-1) codepage, else returns 0|
|[db_is_latin9](scalar_functions/db_is_latin9.sql)|Returns 1 if the input string only holds characters from the ISO-8859-15 (aka Latin-9) codepage, else returns 0|
|[db_is_smallint](scalar_functions/db_is_smallint.sql)|Returns 1 if the input string can be CAST to an SMALLINT, else returns 0|
|[db_is_time](scalar_functions/db_is_time.sql)|Returns 1 if the input string can be CAST to a TIME, else returns 0 Returns 1 is the input string can be CAST to a TIMESTAMP, else returns 0|
|[db_is_timestamp](scalar_functions/db_is_timestamp.sql)|Returns 1 is the input string can be CAST to a TIMESTAMP, else returns 0|
|[db_is_valid_utf8](scalar_functions/db_is_valid_utf8.sql)|Returns 1 if the input string is a valid UTF-8 encoding, otherwise returns 0.|
|[db_json_to_xml](scalar_functions/db_json_to_xml.sql)|Convert JSON string to XML (jsonx format)|
|[db_latin1_to_utf8](scalar_functions/db_latin1_to_utf8.sql)|Convert a string from latin-1 codepage to UTF-8|
|[db_latin_to_greek](scalar_functions/db_latin_to_greek.sql)|Replaces Latin characters with Greek equivalents|
|[db_lock_name_to_rid](scalar_functions/db_lock_name_to_rid.sql)|Returns the Row Id from a LOCK_NAME|
|[db_needs_escaping](scalar_functions/db_needs_escaping.sql)|Returns true if a value would need the ESCAPE_CHARATER setting to allow EXTERNAL TABLE to EXPORT in text format|
|[db_normalize_unicode_nfkc](scalar_functions/db_normalize_unicode_nfkc.sql)|Apply Unicode normalization NFKC (Normalization Form Compatibility Composition) rules to a string|
|[db_remove_special_characters](scalar_functions/db_remove_special_characters.sql)|Removes characters in a string that are not "plain" printable 7-bit ASCII values or TAB, LF and CR|
|[db_rtrim_whitespace](scalar_functions/db_rtrim_whitespace.sql)|Trim trailing whitespace characters such as such No Break Space as well as Tab, New Line, Form Feed and Carriage Returns.|
|[db_sqlerrm](scalar_functions/db_sqlerrm.sql)|Returns the SQL error message for the passed SQLCODE. Returns NULL is the SQLCODE is invalid|
|[db_to_bigint](scalar_functions/db_to_bigint.sql)|CASTs the input to a BIGINT but returns NULL if the value can't be CAST successfully|
|[db_to_bigint_debug](scalar_functions/db_to_bigint_debug.sql)|CASTs the input to an BIGINT but returns an error containing the value if it can't be cast to an BIGINT|
|[db_to_date](scalar_functions/db_to_date.sql)|CASTs the input to a DATE but returns NULL if the value can't be CAST successfully|
|[db_to_date_debug](scalar_functions/db_to_date_debug.sql)|CASTs the input to an DATE but returns an error containing the value if it can't be cast to an DATE|
|[db_to_decfloat](scalar_functions/db_to_decfloat.sql)|CASTs the input to a DECFLOAT but returns NULL if the value can't be CAST successfully|
|[db_to_decfloat_debug](scalar_functions/db_to_decfloat_debug.sql)|CASTs the input to a DECFLOAT but returns an error containing the value if it can't be cast to DECFLOAT|
|[db_to_integer](scalar_functions/db_to_integer.sql)|CASTs the input to an INTEGER but returns NULL if the value can't be CAST successfully|
|[db_to_integer_debug](scalar_functions/db_to_integer_debug.sql)|CASTs the input to an INTEGER but returns an error containing the value if it can't be cast to an INTEGER|
|[db_to_timestamp](scalar_functions/db_to_timestamp.sql)|CASTs the input to a TIMESTAMP but returns NULL if the value can't be CAST successfully|
|[db_to_timestamp_debug](scalar_functions/db_to_timestamp_debug.sql)|CASTs the input to an TIMESTAMP but returns an error containing the value if it can't be cast to an TIMESTAMP|
|[db_tsn](scalar_functions/db_tsn.sql)|Returns the tuple sequence number of a row on a COLUMN organized table when passed the RID_BIT() function|
|[db_unhex](scalar_functions/db_unhex.sql)|The inverse of HEX(). Converts a a hexadecimal string into a character string|
|[db_win1252_latin1_to_utf8](scalar_functions/db_win1252_latin1_to_utf8.sql)|Changes Windows-1252 codepoints that have been incorrectly loaded as Latin-1 (ISO-8859-1) into their correct UTF-8 encoding|
|[db_win1252_latin9_to_utf8](scalar_functions/db_win1252_latin9_to_utf8.sql)|Changes Windows-1252 codepoints that have been incorrectly loaded as Latin-9 (ISO-8859-15) into their correct UTF-8 encoding|


## [Views](views)
| View | Description
| ------------ | -------------
|[db_activity](views/db_activity.sql)|Shows current SQL activity (at a member level)|
|[db_admin_move_table_cancel](views/db_admin_move_table_cancel.sql)|Generates statements to clean up any failed ADMIN_MOVE_TABLE jobs|
|[db_app_rows_per_sec](views/db_app_rows_per_sec.sql)|Shows how many rows per second are being returned, read, inserted etc for active applications|
|[db_auto_maint_queue](views/db_auto_maint_queue.sql)|Activities queued for processing by Db2 Automatic maintenance|
|[db_backups](views/db_backups.sql)|Lists current completed backup images from SYSIBMADM.DB_HISTORY|
|[db_best_practice_blu_cfg](views/db_best_practice_blu_cfg.sql)|Shows config parameters relevant for BLU in DB2 10.5/11.1/11.5.0.1 and attempts to compare against best practice guidelines|
|[db_build_dictionary](views/db_build_dictionary.sql)|Generates LOAD RESETDICTONARY commands with appropriate table sampling clause for BLU tables. Use to "prime" a dictonary when rebuilding a column o|
|[db_change_distribution_key](views/db_change_distribution_key.sql)|Helps pick suitable columns for table distribution. Generates skew check and ADMIN_MOVE_TABLE sql for all columns. Up to you to pick which column(s|
|[db_collect_activity](views/db_collect_activity.sql)|Shows where Db2 is configured to COLLECT ACTIVITY DATA for any activity event monitors|
|[db_column_ddl](views/db_column_ddl.sql)|Generates the data type DDL text for columns. Note the DDL is UNOFFICIAL and INCOMPLETE, is provided AS-IS and Db2look might well produce something|
|[db_column_encoding](views/db_column_encoding.sql)|Shows the average encoded length in bytes for columns in COLUMN ORGANIZED tables|
|[db_column_groups](views/db_column_groups.sql)|Shows any column group statistics that have been defined|
|[db_column_list](views/db_column_list.sql)|Returns common separated lists of column names for all tables|
|[db_column_redesign](views/db_column_redesign.sql)|Generates SQL that can be run to find max used sizes for column data-types, which can then be used to generate redesigned DDL|
|[db_column_stats](views/db_column_stats.sql)|Shows the COLCARD, FREQ_VALUEs and HIGH2KEY statistics stored for each column.|
|[db_columns](views/db_columns.sql)|Lists all table and view columns in the database|
|[db_columns_all](views/db_columns_all.sql)|Lists all table function, nickname, table and view columns in the database|
|[db_constraint_ddl](views/db_constraint_ddl.sql)|Generates DDL for Primary and Unique Constraints|
|[db_db2w_default_distribution_keys](views/db_db2w_default_distribution_keys.sql)|Lists all distribution keys that are (probably) ones that Db2 has picked automatically, rather an having been picked by a User|
|[db_db_cfg](views/db_db_cfg.sql)|Shows current database configuration parameter values|
|[db_db_cfg_change_history](views/db_db_cfg_change_history.sql)|Shows database configuration changes from the db2diag.log. |
|[db_db_partition_groups](views/db_db_partition_groups.sql)|Lists all the partition groups on the database|
|[db_db_quick_size](views/db_db_quick_size.sql)|Show an estimate of the size of the database via summing the sizes of all the active tablespaces in MON_GET_TABLESPACE|
|[db_dbm_cfg](views/db_dbm_cfg.sql)|Shows current database manager configuration parameter values|
|[db_diag](views/db_diag.sql)|Shows records from Db2's diag.log file(s)|
|[db_diag_filtered](views/db_diag_filtered.sql)|Db2 diag.log records with some arguably uninteresting records filtered out|
|[db_dictionaries](views/db_dictionaries.sql)|Shows size of table dictionaries for each table, and statistics on how they were built|
|[db_distribution_keys](views/db_distribution_keys.sql)|Shows the distribution key of each table with a distribution key in the database|
|[db_encryption](views/db_encryption.sql)|Returns the current native encryption settings for the database|
|[db_event_monitor_ddl](views/db_event_monitor_ddl.sql)|Generates DDL for all event monitors on the database|
|[db_event_monitors](views/db_event_monitors.sql)|Lists for all event monitors on the database|
|[db_explain_predicates](views/db_explain_predicates.sql)|Shows predicates used in an access plan, and check if the filter factors have default values|
|[db_explain_stmt](views/db_explain_stmt.sql)|Shows the Original and Optimized SQL for each statement in the explain tables|
|[db_explain_tables](views/db_explain_tables.sql)|Shows information about tables referenced along in access plans in the explain tables|
|[db_external_table_progress](views/db_external_table_progress.sql)|Metrics about any external table statements in progress|
|[db_external_tables](views/db_external_tables.sql)|Lists all named (i.e. non transient) external tables|
|[db_foreign_key_ddl](views/db_foreign_key_ddl.sql)|Generates DDL for all Foreign Keys in the database|
|[db_foreign_keys](views/db_foreign_keys.sql)|Lists all Foreign Keys in the database|
|[db_function_ddl](views/db_function_ddl.sql)|Returns the CREATE FUNCTION DDL for all user defined functions on the database|
|[db_gen_drop_schema](views/db_gen_drop_schema.sql)|Generate ADMIN_DROP_SCHEMA statements that you can then run to drop all objects in a schema and the schema|
|[db_help](views/db_help.sql)|Returns a description of each DB view, function and variable|
|[db_identity_columns](views/db_identity_columns.sql)|Lists all Identity columns|
|[db_index_ddl](views/db_index_ddl.sql)| Generates DDL for all indxes on the database|
|[db_indexes](views/db_indexes.sql)|Lists all indexes, including the columns and data types of that make up the index.|
|[db_invalid_objects](views/db_invalid_objects.sql)|Lists any invalid or inoperative objects|
|[db_level](views/db_level.sql)|Database version and release information|
|[db_load_history](views/db_load_history.sql)|Show history of LOAD operations from the database history file|
|[db_load_progress](views/db_load_progress.sql)|Show progress on any LOAD statements|
|[db_lock_escalations](views/db_lock_escalations.sql)|Returns any lock escalation messages from the diag.log. Set the DB_DIAG_FROM_TIMESTAMP variable to see data before today|
|[db_lock_modes](views/db_lock_modes.sql)|Describes the possible values of the LOCK_MODE_CODE column|
|[db_lock_statements](views/db_lock_statements.sql)|Shows all current locks and lock requests on the system along with the SQL Statement holding or requesting the lock|
|[db_lock_waits](views/db_lock_waits.sql)|Shows applications that are waiting on locks|
|[db_locked_rows](views/db_locked_rows.sql)|Lists all rows locks on the system, and generates SQL to SELECT the locked row(s).|
|[db_locks](views/db_locks.sql)|Shows all current locks on the system (run WITH UR)|
|[db_log_used](views/db_log_used.sql)|Shows current transaction log usage|
|[db_logs_archived](views/db_logs_archived.sql)|Shows log archive events from database history file|
|[db_member_quick_size](views/db_member_quick_size.sql)|Shows the size of each data slice . Use to check for overall system data Skew|
|[db_memory_change_history](views/db_memory_change_history.sql)|Shows STMM and manual memory area changes from the db2diag.log. Set the DB_DIAG_FROM_TIMESTAMP variable to see data before today|
|[db_monitor_table_functions](views/db_monitor_table_functions.sql)|Lists all MON_, ENV_ and WLM_ system table functions, and generates SQL to select from them|
|[db_object_ids](views/db_object_ids.sql)|Find object by tbspace-id and object-id for error messages such as SQL1477N that return object id in error|
|[db_objects](views/db_objects.sql)|Lists all objects in the catalog. Tables, Columns, Indexes etc. Essentially a UNION of all the SYSCAT catalog views|
|[db_paths](views/db_paths.sql)|Lists file system paths used by the database|
|[db_permissions](views/db_permissions.sql)|Lists and Row and Column Access Control (RCAC) permissions you have applied on the system (from SYSCAT.CONTORLS)|
|[db_primary_key_ddl](views/db_primary_key_ddl.sql)|Generates DDL for all Primary Keys and Unique Constraints in the database|
|[db_primary_keys](views/db_primary_keys.sql)|Lists all Primary Keys in the database|
|[db_privileges](views/db_privileges.sql)|Lists all the direct privileges granted on the system, including those gained via object ownership. Also include database level privileges, set ses|
|[db_procedure_ddl](views/db_procedure_ddl.sql)|Returns the CREATE PROCEDURE DDL for all stored procedures on the database|
|[db_procedures](views/db_procedures.sql)|Lists all stored procedures on the database. Includes the parameter signature and an example CALL statement for each procedure|
|[db_rebuild_dictionary](views/db_rebuild_dictionary.sql)|Generates an ADMIN_MOVE_TABLE (AMT) that can recreate a column organized table with a new dictonary using LOAD. Generally use on SMALLish TABLES on|
|[db_registry_variables](views/db_registry_variables.sql)|Shows current database registry variables set on the database server (Db2set)|
|[db_runstats](views/db_runstats.sql)|Generate runstats commands|
|[db_runstats_log](views/db_runstats_log.sql)|Shows auto and manual runstats history from the db2optstats log. Defaults to entries for the current day|
|[db_runstats_queue](views/db_runstats_queue.sql)|Shows runstats queued for processing by Db2 Automatic maintenance or real-time stats|
|[db_scalar_functions](views/db_scalar_functions.sql)|Lists all scalar functions in the database|
|[db_schemas](views/db_schemas.sql)|Lists all schemas in the database|
|[db_sequences](views/db_sequences.sql)|Lists all Sequences|
|[db_servers](views/db_servers.sql)|Lists all Federated Servers created on the database|
|[db_service_class_ddl](views/db_service_class_ddl.sql)|WLM Workload DDL |
|[db_service_classes](views/db_service_classes.sql)|WLM Service Classes |
|[db_session_variables](views/db_session_variables.sql)|List special registers, current application id and other session level variables|
|[db_sortheap_usage](views/db_sortheap_usage.sql)|Current SQL by sortheap usage|
|[db_sorts_current](views/db_sorts_current.sql)|Shows tops sort consuming current queries|
|[db_sorts_statement](views/db_sorts_statement.sql)|Shows tops sort consuming statements from the package cache|
|[db_sqlcode](views/db_sqlcode.sql)|Use to lookup the full description of an SQLCODE error message|
|[db_sqlstate](views/db_sqlstate.sql)|Use to lookup the full description of an SQLSTATE error message|
|[db_statistical_views](views/db_statistical_views.sql)|List all views that are enabled for query optimization|
|[db_stats_profiles](views/db_stats_profiles.sql)|List all views that are enabled for query optimization|
|[db_status](views/db_status.sql)|Activation/quiesce status of database members. Shows if database is explicitly activated and last activation time|
|[db_stmt_cache](views/db_stmt_cache.sql)|Returns data from the package cache. Shows recently executed SQL statements|
|[db_storage](views/db_storage.sql)|Shows the total used and available size of the storage paths available to the database|
|[db_synopsis_size](views/db_synopsis_size.sql)|Shows the size of each Synopsis table created for each Column Organized Table|
|[db_synopsis_tables](views/db_synopsis_tables.sql)|Shows the Synopsis table name for each column organized table|
|[db_table_activity](views/db_table_activity.sql)|Table activity metrics such as rows read and number of table scans|
|[db_table_function_columns](views/db_table_function_columns.sql)|Lists all table function columns in the database|
|[db_table_functions](views/db_table_functions.sql)|Lists all table functions, and generates SQL to select from them|
|[db_table_last_updated_estimate](views/db_table_last_updated_estimate.sql)|Provide a (possibly inaccurate) estimate of when a table might have last been updated|
|[db_table_quick_ddl](views/db_table_quick_ddl.sql)|Generates quick DDL for tables. Provided AS-IS. It is accurate for most simple tables. Does not include FKs, generated column expression or support|
|[db_table_quick_size](views/db_table_quick_size.sql)|Returns the size of each table. For tables not touched since the last Db2 restart, the size is an estimate based on catalog statistics|
|[db_table_quick_skew](views/db_table_quick_skew.sql)|Shows the data skew of database partitioned tables. Only shows data for tables touched since the last Db2 restart|
|[db_table_quick_sparsity](views/db_table_quick_sparsity.sql)|Returns a simplistic estimate of how the size of each table compares to what you might expect given the column encoding rates|
|[db_table_size](views/db_table_size.sql)|Returns an accurate size of each table using ADMIN_GET_TAB_INFO(). The view can be slow to return on large systems if you don't filter|
|[db_table_skew](views/db_table_skew.sql)|Shows the data skew of database partitioned tables.|
|[db_table_statistics](views/db_table_statistics.sql)|Shows table statistics and rows modified since last runstats|
|[db_table_status](views/db_table_status.sql)|Shows if a table is in a non NORMAL status|
|[db_tables](views/db_tables.sql)|Tables, Views, Nicknames, MQTs and other objects from the SYSCAT.TABLES catalog view |
|[db_tablespace_activity](views/db_tablespace_activity.sql)|Tablespace activity metrics using same SQL as dsmtop tablespaces screen|
|[db_tablespace_quick_size](views/db_tablespace_quick_size.sql)|Returns the size of each tablespaces that has been touched since the last Db2 restart|
|[db_tablespace_quick_skew](views/db_tablespace_quick_skew.sql)|Shows any data skew at the tablespace level. Only shows data for tablespaces touched since the last Db2 restart|
|[db_tablespace_reduce_progress](views/db_tablespace_reduce_progress.sql)|Reports of the progress of any background extent movement such as as initiated by ALTER TABLESPACE REDUE MAX|
|[db_tablespaces](views/db_tablespaces.sql)|Lists tablespaces showing page size, max size (if set) etc|
|[db_temp_space](views/db_temp_space.sql)|Shows current system and user temporary tablespace usage by user|
|[db_temp_table_quick_ddl](views/db_temp_table_quick_ddl.sql)|Simple DDL generator for DB2 Declared Global Temp Tables|
|[db_temp_tables](views/db_temp_tables.sql)|Lists user CREATEd and DECLAREd global temporary tables|
|[db_temporal_tables](views/db_temporal_tables.sql)|Lists all temporal tables |
|[db_threshold_types](views/db_threshold_types.sql)|Lists all possible WLM threshold types|
|[db_thresholds](views/db_thresholds.sql)|WLM Thresholds |
|[db_uptime](views/db_uptime.sql)|Shows last time the database members were last restarted|
|[db_user_workloads](views/db_user_workloads.sql)|Returns a count of activity by User and Workload|
|[db_view_ddl](views/db_view_ddl.sql)|Returns the DDL used to create VIEWs|
|[db_view_table_ddl](views/db_view_table_ddl.sql)|Returns CREATE TABLE DDL that corresponds to the column definitions of VIEWs|
|[db_view_table_improved_ddl](views/db_view_table_improved_ddl.sql)|Returns CREATE TABLE DDL that coresponds to the colum definitions of VIEWs but with NOT NULL used for columns without NULL values|
|[db_wlm_activity](views/db_wlm_activity.sql)|Returns Work Load Management metrics by current activity|
|[db_wlm_activity_state](views/db_wlm_activity_state.sql)|Current coordinator activity by status and whether the query bypassed the adaptive workload manager|
|[db_wlm_config](views/db_wlm_config.sql)|Provides a denormalized view of your WLM configuration|
|[db_wlm_constrained_resource](views/db_wlm_constrained_resource.sql)|Shows the most constrained WLM resource (threads vs sort)|
|[db_wlm_memory_consumption](views/db_wlm_memory_consumption.sql)|Shows memory consumption of currently executing queries on the most constrained partition|
|[db_wlm_queued_activity](views/db_wlm_queued_activity.sql)|Shows currently queued queries and estimated sortheap requirements |
|[db_wlm_queued_statements](views/db_wlm_queued_statements.sql)|Shows any queries in the package cache that have been queue do to WLM concurrency limits |
|[db_wlm_queuing_summary](views/db_wlm_queuing_summary.sql)|Shows percentage of statements queued and queue time at a database member level|
|[db_wlm_thread_consumption](views/db_wlm_thread_consumption.sql)|Shows thread/agent consumption of currently executing queries on the most constrained partition|
|[db_workload_activity](views/db_workload_activity.sql)|Shows total rows read etc by Workload defined on the database|
|[db_workload_ddl](views/db_workload_ddl.sql)|WLM Workload DDL |
|[db_workloads](views/db_workloads.sql)|WLM Workloads |
